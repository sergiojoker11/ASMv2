<uib-accordion>
    <div uib-accordion-group class="panel-default" ng-repeat="genero in catalogo track by $index">
        <uib-accordion-heading>
            <span ng-if="isEditMode()" ng-click="getProductosByGenero(genero)">{{genero.name}}</span>
            <span ng-if="isReadonly()">{{genero.name}}</span>
        </uib-accordion-heading>
        <p ng-hide="isThereAnyProducto(genero)" class="text-center">No existen productos en este g√©nero</p>
        <uib-accordion close-others="false" ng-show="isThereAnyProducto(genero)">
            <div uib-accordion-group class="panel-default" ng-repeat="producto in genero.productosList">
                <uib-accordion-heading>
                    <span ng-if="isEditMode()" ng-click="initializePedidoByFormatos(producto.listaFormatos)">{{producto.nombre}}</span>
                    <span ng-if="isReadonly()">{{producto.nombre}}</span>
                </uib-accordion-heading>
                <p ng-hide="isThereAnyFormato(producto)" class="text-center">No existen formatos en este producto</p>
                <table class="table table-striped" ng-show="isThereAnyFormato(producto)">
                    <tbody ng-repeat="formato in producto.listaFormatos">
                    <tr class="row">
                        <td class="col-xs-3">
                            <span oncontextmenu="return false;">{{formato.cantidad}}&nbsp;{{formato.unidadMedida}}</span>
                        </td>
                        <td class="col-xs-9">
                            <input ng-if="isEditMode()" type="number" class="form-control"
                                   ng-model="pedido[formato.id]" min="0"/>
                            <input ng-if="isReadonly()" type="number" class="form-control"
                                   ng-model="formato.quantity" min="0"
                                   ng-disabled="isReadonly()"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </uib-accordion>
    </div>
</uib-accordion>